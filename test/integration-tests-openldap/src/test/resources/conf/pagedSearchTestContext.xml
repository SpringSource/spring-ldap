<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="https://www.springframework.org/schema/beans"
       xmlns:xsi="https://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="https://www.springframework.org/schema/context"
       xsi:schemaLocation="https://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd https://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd">

    <context:property-placeholder ignore-resource-not-found="true"
                                  system-properties-mode="OVERRIDE"
                                  location="classpath:/conf/ldap.properties" />

    <bean class="org.springframework.ldap.core.support.LdapContextSource" id="contextSource">
        <property name="url" value="${itest.openldap.url}" />
        <property name="userDn" value="${itest.openldap.user.dn}"/>
        <property name="password" value="${itest.openldap.user.password}"/>
        <property name="base" value="${itest.openldap.base}" />
        <property name="pooled" value="false" />
    </bean>

    <bean class="org.springframework.ldap.core.LdapTemplate">
        <property name="contextSource" ref="contextSource"/>
    </bean>

</beans>